<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Rajasthan GK Zone Daily Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f172a;
  color:#fff;
  text-align:center;
}
.container{
  max-width:360px;
  margin:auto;
  padding:15px;
}
h1{font-size:20px;margin-bottom:10px}
.card{
  background:#111827;
  padding:15px;
  border-radius:12px;
}
button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:8px;
  font-size:16px;
}
.option{background:#1f2933;color:#fff}
.correct{background:green}
.wrong{background:red}
input{
  width:100%;
  padding:10px;
  margin-top:8px;
  border-radius:6px;
  border:none;
}
#timer{font-size:18px;margin:10px 0;color:#38bdf8}
#progress{font-size:14px;margin-bottom:5px}
#adminPanel{display:none}
.scorecard{
  background:#020617;
  padding:15px;
  border-radius:12px;
}
</style>
</head>

<body>
<div class="container">

<h1 id="secretTitle">Rajasthan GK Zone Daily Quiz</h1>

<!-- Name Input -->
<div id="nameBox" class="card">
  <input id="userName" placeholder="‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
  <button onclick="startQuiz()">Start Quiz</button>
</div>

<!-- Quiz Box -->
<div id="quizBox" class="card" style="display:none"></div>

<!-- Admin Panel -->
<div id="adminPanel" class="card">
  <h3>Admin Panel</h3>
  <input id="q" placeholder="Question">
  <input id="a1" placeholder="Option A">
  <input id="a2" placeholder="Option B">
  <input id="a3" placeholder="Option C">
  <input id="a4" placeholder="Option D">
  <input id="ans" placeholder="Correct option (0-3)">
  <button onclick="addQ()">Add Question</button>
  <button onclick="resetQuiz()">Daily Reset</button>
</div>

</div>

<script>
/* ===== DAILY AUTO RESET ===== */
const today = new Date().toDateString();
if(localStorage.getItem("quizDate") !== today){
  localStorage.clear();
  localStorage.setItem("quizDate", today);
}

/* ===== QUIZ DATA ===== */
let quiz = JSON.parse(localStorage.getItem("quizData")) || [
  {
    q:"‡§∞‡§æ‡§ú‡§∏‡•ç‡§•‡§æ‡§® ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",
    o:["‡§ú‡§Ø‡§™‡•Å‡§∞","‡§ú‡•ã‡§ß‡§™‡•Å‡§∞","‡§â‡§¶‡§Ø‡§™‡•Å‡§∞","‡§¨‡•Ä‡§ï‡§æ‡§®‡•á‡§∞"],
    a:0
  }
];

let index = 0;
let score = 0;
let time = 10;
let timer;
let user = "";

/* ===== START QUIZ ===== */
function startQuiz(){
  user = document.getElementById("userName").value || "Follower";
  document.getElementById("nameBox").style.display="none";
  document.getElementById("quizBox").style.display="block";
  loadQ();
}

/* ===== LOAD QUESTION ===== */
function loadQ(){
  clearInterval(timer);
  time = 10;
  let d = quiz[index];

  quizBox.innerHTML = `
    <div id="progress">${index+1} / ${quiz.length}</div>
    <div id="timer">‚è± ${time}</div>
    <h3>${d.q}</h3>
    ${d.o.map((x,i)=>`<button class="option" onclick="check(${i})">${x}</button>`).join("")}
  `;

  timer = setInterval(()=>{
    time--;
    document.getElementById("timer").innerText = "‚è± " + time;
    if(time === 0){
      clearInterval(timer);
      nextQ();
    }
  },1000);
}

/* ===== CHECK ANSWER ===== */
function check(i){
  clearInterval(timer);
  let btns = document.querySelectorAll(".option");
  btns.forEach(b=>b.disabled=true);

  if(i === quiz[index].a){
    btns[i].classList.add("correct");
    score++;
  }else{
    btns[i].classList.add("wrong");
  }
  setTimeout(nextQ,700);
}

/* ===== NEXT QUESTION ===== */
function nextQ(){
  index++;
  if(index < quiz.length){
    loadQ();
  }else{
    showResult();
  }
}

/* ===== RESULT CARD ===== */
function showResult(){
  quizBox.innerHTML = `
    <div class="scorecard">
      <h2>Quiz Result</h2>
      <p><b>Name:</b> ${user}</p>
      <p><b>Score:</b> ${score} / ${quiz.length}</p>
      <p><b>Quiz:</b> Rajasthan GK Daily Quiz</p>
      <p><b>Page:</b> Rajasthan GK Zone</p>
      <p>üì∏ Screenshot & Share</p>
    </div>
  `;
}

/* ===== HIDDEN ADMIN ACCESS ===== */
let tap = 0;
secretTitle.onclick = ()=>{
  tap++;
  if(tap === 5){
    let u = prompt("Admin Username");
    let p = prompt("Admin PIN");
    if(u==="admin" && p==="1234"){
      document.getElementById("adminPanel").style.display="block";
    }
    tap = 0;
  }
};

/* ===== ADD QUESTION ===== */
function addQ(){
  quiz.push({
    q:q.value,
    o:[a1.value,a2.value,a3.value,a4.value],
    a:+ans.value
  });
  localStorage.setItem("quizData", JSON.stringify(quiz));
  alert("Question Added");
  q.value=a1.value=a2.value=a3.value=a4.value=ans.value="";
}

/* ===== RESET QUIZ ===== */
function resetQuiz(){
  localStorage.clear();
  location.reload();
}
</script>

</body>
</html>
